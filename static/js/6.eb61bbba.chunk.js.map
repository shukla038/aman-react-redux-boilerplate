{"version":3,"sources":["Config/apiConfig.js","Components/Header/Header.js","Components/Header/index.js","Container/PostsDetailPage/actions.js","Container/PostsDetailPage/PostsDetailPage.js","Container/PostsDetailPage/index.js"],"names":["api","posts","GETPOST","POSTDETAIL","id","GETCOMMENTS","Header","className","href","onClick","props","history","push","React","Component","getPostsListAsync","dispatch","getState","axios","get","then","response","payload","data","status","type","FILTERED_POSTS_LIST","catch","err","getCommentsListAsync","COMMENTS_LIST","deletePostAsync","body","delete","editCommentAsync","content","put","PostDetailPage","state","listSize","addMorehandler","setState","hanldeDelete","match","params","success","handleComment","e","target","value","this","postsList","postsLists","filteredPostListData","postDetailData","console","log","Fragment","title","commentsData","slice","map","dataObj","index","key","name","rows","cols","form","onChange","connect","bindActionCreators","PostsDetailPage"],"mappings":"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","file":"static/js/6.eb61bbba.chunk.js","sourcesContent":["export const api = {\n    posts:{\n        GETPOST : `https://jsonplaceholder.typicode.com/posts`,\n        POSTDETAIL: (id) => `https://jsonplaceholder.typicode.com/posts/${id}`,\n        GETCOMMENTS: (id) => `https://jsonplaceholder.typicode.com/posts/${id}/comments`,\n    }\n} ","import React from 'react';\nimport './style.scss';\n\nclass Header extends React.Component {\n  render() {\n    return (\n        <div className='header'>\n            <a href className='active' onClick={ ()=> this.props.history.push('/home')}>Home</a>\n            <div className='header-right'>\n                <a href onClick={ ()=> this.props.history.push('/')}>Logout</a>\n            </div>\n        </div>\n    );\n  }\n}\n\nexport default Header;","export { default } from './Header';\n","import { FILTERED_POSTS_LIST, COMMENTS_LIST } from './constants'\nimport { api } from 'Config/apiConfig.js'\nimport axios from 'axios';\n\nexport function getPostsList(payload) {\n    return {\n      type: FILTERED_POSTS_LIST,\n      payload\n    };\n}\nexport function getCommentsList(payload) {\n    return {\n      type: COMMENTS_LIST,\n      payload\n    };\n}\n\n//Action Creators\nexport const getPostsListAsync = (id) => {\n    return (dispatch, getState) => {\n        return axios.get(api.posts.POSTDETAIL(id)).then(\n            response => {\n                if(response && response.data && response.status === 200) {\n                dispatch(getPostsList(response.data))\n                }\n            }\n        ).catch( err => {\n            throw err\n        })\n    } \n}\nexport const getCommentsListAsync = (id) => {\n    return (dispatch, getState) => {\n        return axios.get(api.posts.GETCOMMENTS(id)).then(\n            response => {\n                if(response && response.data && response.status === 200) {\n                dispatch(getCommentsList(response.data))\n                }\n            }\n        ).catch( err => {\n            throw err\n        })\n    } \n}\nexport const deletePostAsync = (id, body) => {\n    return (dispatch, getState) => {\n        return axios.delete(api.posts.POSTDETAIL(id), body).then(\n            response => {\n                if(response && response.data && response.status === 200) {\n                // dispatch(getPostsList(response.data))\n                return response\n                }\n            }\n        ).catch( err => {\n            throw err\n        })\n    } \n}\nexport const editCommentAsync = (id, content) => {\n    return (dispatch, getState) => {\n        return axios.put(api.posts.POSTDETAIL(id),content).then(\n            response => {\n                if(response && response.data && response.status === 200) {\n                // dispatch(getPostsList(response.data))\n                return response\n                }\n            }\n        ).catch( err => {\n            throw err\n        })\n    } \n}\n\n\n","import React from 'react';\nimport Header from 'Components/Header'\nimport PropTypes from 'prop-types';\nimport './PostsDetailPage.scss';\n\nclass PostDetailPage extends React.Component {\n    state = {\n        listSize: 10\n    }\n    componentDidMount() {\n        const { match } = this.props;\n        this.props.getPostsListAsync(match.params.id)\n        this.props.getCommentsListAsync(match.params.id)\n    }\n    addMorehandler = () => {\n        this.setState({ listSize: this.state.listSize + 10 })\n    }\n    hanldeDelete = () => {\n        const { match } = this.props;\n        const body = {\n            id: match.params.id\n        }\n        this.props.deletePostAsync(match.params.id, body).then(response => {\n            if (response.success) {\n                this.props.history.push('/home')\n            }\n        }\n        )\n    }\n    handleComment = (e) => {\n        const { match } = this.props;\n        const body = {\n            body: e.target.value\n        }\n        this.props.editCommentAsync(match.params.id, body)\n    }\n    render() {\n        const { postsList, history } = this.props\n        const postsLists = postsList.filteredPostListData.postDetailData\n        console.log('postsListpostsList', postsLists)\n        return (\n            <React.Fragment>\n                <Header history={history} />\n                <div className='w3-panel w3-card card-wrapper'>\n                    <div className='font-weight-bold'>\n                        Title :{postsLists.title}\n                    </div>\n                    <div>\n                        {postsLists.body}\n                    </div>\n                    <button onClick={this.hanldeDelete}>Delete this post</button>\n                </div>\n                {/* comments section           */}\n                Comments :\n\n                <ul>\n                    {\n                        postsList.filteredPostListData && postsList.filteredPostListData.commentsData ?\n                            postsList.filteredPostListData.commentsData.slice(0, this.state.listSize).map((dataObj, index) => {\n                                return (\n                                    <li className='w3-panel w3-card card-wrapper' onClick={() => history.push(`/posts/${dataObj.id}`)} key={`post--${index}`}>\n                                        <div className='font-weight-bold'>Name : {dataObj.name}</div>\n                                        <textarea rows='6' cols='50' name='comment' form='usrform' onChange={this.handleComment}>\n                                            {dataObj.body}\n                                        </textarea>\n                                    </li>\n                                )\n                            }) : null\n                    }\n                </ul>\n                <div className='more--button'>\n                    <button onClick={this.addMorehandler}>Load More</button>\n                </div>\n\n            </React.Fragment>\n        );\n    }\n}\nPostDetailPage.propTypes = {\n    getPostsListAsync : PropTypes.func.isRequired,\n    getCommentsListAsync: PropTypes.func.isRequired,\n}\nexport default PostDetailPage;","import { connect } from 'react-redux'\nimport { getPostsListAsync, getCommentsListAsync, deletePostAsync, editCommentAsync } from './actions'\nimport { bindActionCreators } from 'redux'\nimport PostsDetailPage from './PostsDetailPage'\n\nconst mapStateToProps = (state) => {\n    return {\n      postsList: state,\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return bindActionCreators({\n        getPostsListAsync,\n        getCommentsListAsync,\n        deletePostAsync,\n        editCommentAsync\n    }, dispatch)\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostsDetailPage)"],"sourceRoot":""}